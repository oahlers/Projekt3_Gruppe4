<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Udlejede Biler - Bilabonnement</title>
    <link rel="icon" href="/img/fav.png" type="image/x-icon">
    <link rel="stylesheet" href="/style.css">
</head>
<body>

<div class="layout">

    <div class="header">
        <div class="logo">
            <a th:href="@{/EmployeeLogin/dashboard}">
                <img src="/img/Logo.png" alt="BILABONNEMENT Logo">
            </a>
        </div>
        <h3>Medarbejderportal</h3>
        <nav>
            <a th:href="@{/}" class="back-btn">Log ud</a>
        </nav>
    </div>

    <section class="hero">
        <h1>Oversigt over Udlejede Biler</h1>
        <p>Herunder ser du alle biler, som er udlejede lige nu.</p>
    </section>

    <main class="main-content">
        <section class="car-dashboard">

            <!-- Filtreringsknapper -->
            <div class="filter-buttons">
                <button onclick="filterCars('all')">Vis alle biler</button>
                <button onclick="filterCars('available')">Vis udlejede biler</button>
                <button onclick="filterCars('unavailable')">Vis biler der mangler skaderapport</button>
            </div>

            <!-- Bilkort -->
            <div class="car-card"
                 th:each="car : ${rentedCars}"
                 th:attr="data-available=${car.availableForLoan} ? 'true' : 'false'">
                <h3 th:text="${car.brand + ' ' + car.model}"></h3>
                <p><strong>Farve:</strong> <span th:text="${car.color}"></span></p>
                <p><strong>Udstyrsniveau:</strong> <span th:text="${car.equipmentLevel}"></span></p>
                <p><strong>Pris:</strong> <span th:text="${car.price + ' DKK'}"></span></p>
                <p><strong>Udlejet:</strong> <span th:text="${car.availableForLoan} ? 'Ja' : 'Nej'"></span></p>
                <p><strong>Mangler skaderapport:</strong> <span th:text="${car.readyForUse} ? 'Ja' : 'Nej'"></span></p>
            </div>

        </section>
    </main>

    <div class="footer">
        <p>Bilabonnement | Medarbejderportal | Kontakt os p√• support@bilabonnement.dk</p>
    </div>
</div>

<!-- Filtreringsscript -->
<script>
    function filterCars(filter) {
        const cars = document.querySelectorAll('.car-card');
        cars.forEach(car => {
            const isAvailable = car.getAttribute('data-available') === 'true';
            if (filter === 'all') {
                car.style.display = 'block';
            } else if (filter === 'available' && isAvailable) {
                car.style.display = 'block';
            } else if (filter === 'unavailable' && !isAvailable) {
                car.style.display = 'block';
            } else {
                car.style.display = 'none';
            }
        });
    }
</script>

</body>
</html>
